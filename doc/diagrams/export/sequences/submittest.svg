<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="774px" preserveAspectRatio="none" style="width:1705px;height:774px;" version="1.1" viewBox="0 0 1705 774" width="1705px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="797.5" y="23.5352">U4 Submit Test</text><rect fill="#FFFFFF" height="101.6211" style="stroke: #383838; stroke-width: 1.0;" width="10" x="197.5" y="143.9766"/><rect fill="#FFFFFF" height="537.0371" style="stroke: #383838; stroke-width: 1.0;" width="10" x="494.5" y="215.5977"/><rect fill="#FFFFFF" height="269.9961" style="stroke: #383838; stroke-width: 1.0;" width="10" x="499.5" y="282.9082"/><rect fill="#FFFFFF" height="176.375" style="stroke: #383838; stroke-width: 1.0;" width="10" x="980.5" y="317.2188"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="980.5" y="707.3242"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1223.5" y="427.2832"/><rect fill="#FFFFFF" height="229.7305" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1346" y="522.9043"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1636.5" y="648.0137"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="93" x="1051" y="325.5293"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1058" y="346.0645">Submission</text><rect fill="#FFFFFF" height="91.5762" style="stroke: #000000; stroke-width: 2.0;" width="349" x="920" y="374.0176"/><rect fill="#FFFFFF" height="74.2656" style="stroke: none; stroke-width: 1.0;" width="349" x="920" y="391.3281"/><rect fill="#FFFFFF" height="177.4199" style="stroke: #000000; stroke-width: 2.0;" width="774" x="920" y="568.2148"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="146" x="1443" y="585.5254"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="1450" y="606.0605">StudentSubmission</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="202.5" x2="202.5" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="499" x2="499" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="985" x2="985" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1097" x2="1097" y1="356.2734" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1228" x2="1228" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1351" x2="1351" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1516" x2="1516" y1="616.2695" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1641" x2="1641" y1="112.9766" y2="762.6348"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="8" y="110.0234">Student</text><ellipse cx="37.5" cy="43.4883" fill="#F8F8F8" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M37.5,51.4883 L37.5,78.4883 M24.5,59.4883 L50.5,59.4883 M37.5,78.4883 L24.5,93.4883 M37.5,78.4883 L50.5,93.4883 " fill="#F8F8F8" style="stroke: #383838; stroke-width: 2.0;"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="42" x="181.5" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="188.5" y="102.0234">App</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="127" x="436" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="443" y="102.0234">StudentManager</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="111" x="930" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="937" y="102.0234">SubmissionDB</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="61" x="1198" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1205" y="102.0234">TestDB</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="164" x="1269" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="1276" y="102.0234">StudentSubmissionDB</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="85" x="1599" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1606" y="102.0234">StudentDB</text><rect fill="#FFFFFF" height="101.6211" style="stroke: #383838; stroke-width: 1.0;" width="10" x="197.5" y="143.9766"/><rect fill="#FFFFFF" height="537.0371" style="stroke: #383838; stroke-width: 1.0;" width="10" x="494.5" y="215.5977"/><rect fill="#FFFFFF" height="269.9961" style="stroke: #383838; stroke-width: 1.0;" width="10" x="499.5" y="282.9082"/><rect fill="#FFFFFF" height="176.375" style="stroke: #383838; stroke-width: 1.0;" width="10" x="980.5" y="317.2188"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="980.5" y="707.3242"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1223.5" y="427.2832"/><rect fill="#FFFFFF" height="229.7305" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1346" y="522.9043"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1636.5" y="648.0137"/><polygon fill="#383838" points="185.5,139.9766,195.5,143.9766,185.5,147.9766,189.5,143.9766" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="37.5" x2="191.5" y1="143.9766" y2="143.9766"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="44.5" y="139.5449">submitTestForm(form)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="207.5" x2="249.5" y1="173.5977" y2="173.5977"/><line style="stroke: #383838; stroke-width: 1.0;" x1="249.5" x2="249.5" y1="173.5977" y2="186.5977"/><line style="stroke: #383838; stroke-width: 1.0;" x1="208.5" x2="249.5" y1="186.5977" y2="186.5977"/><polygon fill="#383838" points="218.5,182.5977,208.5,186.5977,218.5,190.5977,214.5,186.5977" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="214.5" y="168.8555">validate()</text><polygon fill="#383838" points="482.5,211.5977,492.5,215.5977,482.5,219.5977,486.5,215.5977" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="207.5" x2="488.5" y1="215.5977" y2="215.5977"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="214.5" y="211.166">uploadTestSubmission(description, testID)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="504.5" x2="551.5" y1="270.2188" y2="270.2188"/><line style="stroke: #383838; stroke-width: 1.0;" x1="551.5" x2="551.5" y1="270.2188" y2="283.2188"/><line style="stroke: #383838; stroke-width: 1.0;" x1="510.5" x2="551.5" y1="283.2188" y2="283.2188"/><polygon fill="#383838" points="520.5,279.2188,510.5,283.2188,520.5,287.2188,516.5,283.2188" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="397" x="516.5" y="265.4766">uploadSubmission(description, now, referenceType = 1, testID)</text><polygon fill="#383838" points="968.5,313.2188,978.5,317.2188,968.5,321.2188,972.5,317.2188" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="509.5" x2="974.5" y1="317.2188" y2="317.2188"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="452" x="516.5" y="312.7871">addSubmission(description, submittedDate, referenceType, referenceID)</text><polygon fill="#383838" points="1039,327.5293,1049,331.5293,1039,335.5293,1043,331.5293" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="990.5" x2="1045" y1="331.5293" y2="331.5293"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="93" x="1051" y="325.5293"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1058" y="346.0645">Submission</text><rect fill="none" height="91.5762" style="stroke: #000000; stroke-width: 2.0;" width="349" x="920" y="374.0176"/><polygon fill="#EEEEEE" points="920,374.0176,982,374.0176,982,381.0176,972,391.0176,920,391.0176,920,374.0176" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="935" y="387.5859">alt</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="997" y="386.6523">[referenceType == 0]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="920" x2="1269" y1="392.3281" y2="392.3281"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="925" y="402.9629">[referenceType == 1]</text><polygon fill="#383838" points="1211.5,423.2832,1221.5,427.2832,1211.5,431.2832,1215.5,427.2832" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="990.5" x2="1217.5" y1="427.2832" y2="427.2832"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="997.5" y="422.8516">addSubmissionID(referenceID, id);</text><polygon fill="#383838" points="520.5,489.5938,510.5,493.5938,520.5,497.5938,516.5,493.5938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="514.5" x2="984.5" y1="493.5938" y2="493.5938"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="526.5" y="489.1621">submissionID</text><polygon fill="#383838" points="1334,518.9043,1344,522.9043,1334,526.9043,1338,522.9043" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="509.5" x2="1340" y1="522.9043" y2="522.9043"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="516.5" y="518.4727">addStudentSubmission(senderStudentID, submissionID)</text><rect fill="none" height="177.4199" style="stroke: #000000; stroke-width: 2.0;" width="774" x="920" y="568.2148"/><polygon fill="#EEEEEE" points="920,568.2148,1122,568.2148,1122,575.2148,1112,585.2148,920,585.2148,920,568.2148" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="935" y="581.7832">AddStudentSubmission</text><polygon fill="#383838" points="1431,587.5254,1441,591.5254,1431,595.5254,1435,591.5254" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1356" x2="1437" y1="591.5254" y2="591.5254"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="146" x="1443" y="585.5254"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="1450" y="606.0605">StudentSubmission</text><polygon fill="#383838" points="1624.5,644.0137,1634.5,648.0137,1624.5,652.0137,1628.5,648.0137" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1356" x2="1630.5" y1="648.0137" y2="648.0137"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="1363" y="643.582">addStudentSubmissionID(studentID, id)</text><polygon fill="#383838" points="1001.5,703.3242,991.5,707.3242,1001.5,711.3242,997.5,707.3242" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="995.5" x2="1345" y1="707.3242" y2="707.3242"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="1007.5" y="702.8926">addStudentSubmissionID(submissionID, id)</text><!--
@startuml


'skinparam handwritten true
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
skinparam defaultFontName "Source Sans Pro Semibold"
    

title U4 Submit Test

actor Student

Student -> App: submitTestForm(form)
activate App

App -> App: validate()

App -> StudentManager: uploadTestSubmission(description, testID)
activate StudentManager
deactivate App

StudentManager -> StudentManager: uploadSubmission(description, now, referenceType = 1, testID)
activate StudentManager

StudentManager -> SubmissionDB: addSubmission(description, submittedDate, referenceType, referenceID)
activate SubmissionDB

create Submission
SubmissionDB -> Submission

alt referenceType == 0
else referenceType == 1
  SubmissionDB -> TestDB: addSubmissionID(referenceID, id);
  activate TestDB
  deactivate TestDB
end

SubmissionDB - -> StudentManager: submissionID
deactivate SubmissionDB

StudentManager -> StudentSubmissionDB: addStudentSubmission(senderStudentID, submissionID)
activate StudentSubmissionDB
deactivate StudentManager

group AddStudentSubmission

  create StudentSubmission
  StudentSubmissionDB -> StudentSubmission

  StudentSubmissionDB -> StudentDB: addStudentSubmissionID(studentID, id)
  activate StudentDB
  deactivate StudentDB

  StudentSubmissionDB -> SubmissionDB: addStudentSubmissionID(submissionID, id)
  activate SubmissionDB
  deactivate SubmissionDB

end

deactivate StudentSubmissionDB
deactivate StudentManager

hide footbox

@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>