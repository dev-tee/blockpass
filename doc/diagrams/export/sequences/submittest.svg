<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="774px" preserveAspectRatio="none" style="width:1871px;height:774px;" version="1.1" viewBox="0 0 1871 774" width="1871px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="880.5" y="23.5352">U4 Submit Test</text><rect fill="#FFFFFF" height="101.6211" style="stroke: #383838; stroke-width: 1.0;" width="10" x="197.5" y="143.9766"/><rect fill="#FFFFFF" height="537.0371" style="stroke: #383838; stroke-width: 1.0;" width="10" x="660.5" y="215.5977"/><rect fill="#FFFFFF" height="269.9961" style="stroke: #383838; stroke-width: 1.0;" width="10" x="665.5" y="282.9082"/><rect fill="#FFFFFF" height="176.375" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1146.5" y="317.2188"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1146.5" y="707.3242"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1389.5" y="427.2832"/><rect fill="#FFFFFF" height="229.7305" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1512" y="522.9043"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1802.5" y="648.0137"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="93" x="1217" y="325.5293"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1224" y="346.0645">Submission</text><rect fill="#FFFFFF" height="91.5762" style="stroke: #000000; stroke-width: 2.0;" width="349" x="1086" y="374.0176"/><rect fill="#FFFFFF" height="74.2656" style="stroke: none; stroke-width: 1.0;" width="349" x="1086" y="391.3281"/><rect fill="#FFFFFF" height="177.4199" style="stroke: #000000; stroke-width: 2.0;" width="774" x="1086" y="568.2148"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="146" x="1609" y="585.5254"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="1616" y="606.0605">StudentSubmission</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="202.5" x2="202.5" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="665" x2="665" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1151" x2="1151" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1263" x2="1263" y1="356.2734" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1394" x2="1394" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1517" x2="1517" y1="112.9766" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1682" x2="1682" y1="616.2695" y2="762.6348"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1807" x2="1807" y1="112.9766" y2="762.6348"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="8" y="110.0234">Student</text><ellipse cx="37.5" cy="43.4883" fill="#F8F8F8" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M37.5,51.4883 L37.5,78.4883 M24.5,59.4883 L50.5,59.4883 M37.5,78.4883 L24.5,93.4883 M37.5,78.4883 L50.5,93.4883 " fill="#F8F8F8" style="stroke: #383838; stroke-width: 2.0;"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="42" x="181.5" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="188.5" y="102.0234">App</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="127" x="602" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="609" y="102.0234">StudentManager</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="111" x="1096" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1103" y="102.0234">SubmissionDB</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="61" x="1364" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1371" y="102.0234">TestDB</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="164" x="1435" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="1442" y="102.0234">StudentSubmissionDB</text><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="85" x="1765" y="81.4883"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1772" y="102.0234">StudentDB</text><rect fill="#FFFFFF" height="101.6211" style="stroke: #383838; stroke-width: 1.0;" width="10" x="197.5" y="143.9766"/><rect fill="#FFFFFF" height="537.0371" style="stroke: #383838; stroke-width: 1.0;" width="10" x="660.5" y="215.5977"/><rect fill="#FFFFFF" height="269.9961" style="stroke: #383838; stroke-width: 1.0;" width="10" x="665.5" y="282.9082"/><rect fill="#FFFFFF" height="176.375" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1146.5" y="317.2188"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1146.5" y="707.3242"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1389.5" y="427.2832"/><rect fill="#FFFFFF" height="229.7305" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1512" y="522.9043"/><rect fill="#FFFFFF" height="30" style="stroke: #383838; stroke-width: 1.0;" width="10" x="1802.5" y="648.0137"/><polygon fill="#383838" points="185.5,139.9766,195.5,143.9766,185.5,147.9766,189.5,143.9766" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="37.5" x2="191.5" y1="143.9766" y2="143.9766"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="44.5" y="139.5449">submitTestForm(form)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="207.5" x2="249.5" y1="173.5977" y2="173.5977"/><line style="stroke: #383838; stroke-width: 1.0;" x1="249.5" x2="249.5" y1="173.5977" y2="186.5977"/><line style="stroke: #383838; stroke-width: 1.0;" x1="208.5" x2="249.5" y1="186.5977" y2="186.5977"/><polygon fill="#383838" points="218.5,182.5977,208.5,186.5977,218.5,190.5977,214.5,186.5977" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="214.5" y="168.8555">validate()</text><polygon fill="#383838" points="648.5,211.5977,658.5,215.5977,648.5,219.5977,652.5,215.5977" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="207.5" x2="654.5" y1="215.5977" y2="215.5977"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="434" x="214.5" y="211.166">uploadTestSubmission(description, testID, remainingGroupMembers)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="670.5" x2="717.5" y1="270.2188" y2="270.2188"/><line style="stroke: #383838; stroke-width: 1.0;" x1="717.5" x2="717.5" y1="270.2188" y2="283.2188"/><line style="stroke: #383838; stroke-width: 1.0;" x1="676.5" x2="717.5" y1="283.2188" y2="283.2188"/><polygon fill="#383838" points="686.5,279.2188,676.5,283.2188,686.5,287.2188,682.5,283.2188" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="397" x="682.5" y="265.4766">uploadSubmission(description, now, referenceType = 1, testID)</text><polygon fill="#383838" points="1134.5,313.2188,1144.5,317.2188,1134.5,321.2188,1138.5,317.2188" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="675.5" x2="1140.5" y1="317.2188" y2="317.2188"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="452" x="682.5" y="312.7871">addSubmission(description, submittedDate, referenceType, referenceID)</text><polygon fill="#383838" points="1205,327.5293,1215,331.5293,1205,335.5293,1209,331.5293" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1156.5" x2="1211" y1="331.5293" y2="331.5293"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="93" x="1217" y="325.5293"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1224" y="346.0645">Submission</text><rect fill="none" height="91.5762" style="stroke: #000000; stroke-width: 2.0;" width="349" x="1086" y="374.0176"/><polygon fill="#EEEEEE" points="1086,374.0176,1148,374.0176,1148,381.0176,1138,391.0176,1086,391.0176,1086,374.0176" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="1101" y="387.5859">alt</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="1163" y="386.6523">[referenceType == 0]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1086" x2="1435" y1="392.3281" y2="392.3281"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="1091" y="402.9629">[referenceType == 1]</text><polygon fill="#383838" points="1377.5,423.2832,1387.5,427.2832,1377.5,431.2832,1381.5,427.2832" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1156.5" x2="1383.5" y1="427.2832" y2="427.2832"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="1163.5" y="422.8516">addSubmissionID(referenceID, id);</text><polygon fill="#383838" points="686.5,489.5938,676.5,493.5938,686.5,497.5938,682.5,493.5938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="680.5" x2="1150.5" y1="493.5938" y2="493.5938"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="692.5" y="489.1621">submissionID</text><polygon fill="#383838" points="1500,518.9043,1510,522.9043,1500,526.9043,1504,522.9043" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="675.5" x2="1506" y1="522.9043" y2="522.9043"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="682.5" y="518.4727">addStudentSubmission(senderStudentID, submissionID)</text><rect fill="none" height="177.4199" style="stroke: #000000; stroke-width: 2.0;" width="774" x="1086" y="568.2148"/><polygon fill="#EEEEEE" points="1086,568.2148,1288,568.2148,1288,575.2148,1278,585.2148,1086,585.2148,1086,568.2148" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="1101" y="581.7832">AddStudentSubmission</text><polygon fill="#383838" points="1597,587.5254,1607,591.5254,1597,595.5254,1601,591.5254" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1522" x2="1603" y1="591.5254" y2="591.5254"/><rect fill="#F8F8F8" height="30.4883" style="stroke: #383838; stroke-width: 1.5;" width="146" x="1609" y="585.5254"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="1616" y="606.0605">StudentSubmission</text><polygon fill="#383838" points="1790.5,644.0137,1800.5,648.0137,1790.5,652.0137,1794.5,648.0137" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1522" x2="1796.5" y1="648.0137" y2="648.0137"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="1529" y="643.582">addStudentSubmissionID(studentID, id)</text><polygon fill="#383838" points="1167.5,703.3242,1157.5,707.3242,1167.5,711.3242,1163.5,707.3242" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1161.5" x2="1511" y1="707.3242" y2="707.3242"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="1173.5" y="702.8926">addStudentSubmissionID(submissionID, id)</text><!--
@startuml


'skinparam handwritten true
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
skinparam defaultFontName "Source Sans Pro Semibold"
    

title U4 Submit Test

actor Student

Student -> App: submitTestForm(form)
activate App

App -> App: validate()

App -> StudentManager: uploadTestSubmission(description, testID, remainingGroupMembers)
activate StudentManager
deactivate App

StudentManager -> StudentManager: uploadSubmission(description, now, referenceType = 1, testID)
activate StudentManager

StudentManager -> SubmissionDB: addSubmission(description, submittedDate, referenceType, referenceID)
activate SubmissionDB

create Submission
SubmissionDB -> Submission

alt referenceType == 0
else referenceType == 1
  SubmissionDB -> TestDB: addSubmissionID(referenceID, id);
  activate TestDB
  deactivate TestDB
end

SubmissionDB - -> StudentManager: submissionID
deactivate SubmissionDB

StudentManager -> StudentSubmissionDB: addStudentSubmission(senderStudentID, submissionID)
activate StudentSubmissionDB
deactivate StudentManager

group AddStudentSubmission

  create StudentSubmission
  StudentSubmissionDB -> StudentSubmission

  StudentSubmissionDB -> StudentDB: addStudentSubmissionID(studentID, id)
  activate StudentDB
  deactivate StudentDB

  StudentSubmissionDB -> SubmissionDB: addStudentSubmissionID(submissionID, id)
  activate SubmissionDB
  deactivate SubmissionDB

end

deactivate StudentSubmissionDB
deactivate StudentManager

hide footbox

@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>