<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="690px" preserveAspectRatio="none" style="width:693px;height:690px;" version="1.1" viewBox="0 0 693 690" width="693px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="60" x="320" y="17.4023">TestDB</text><!--class ContractProvider--><rect fill="#F8F8F8" height="67.2207" id="ContractProvider" style="stroke: #383838; stroke-width: 1.5;" width="210" x="471.5" y="170.1992"/><ellipse cx="524.25" cy="189.332" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M520.1777,185.0972 L520.1777,182.939 L527.5571,182.939 L527.5571,185.0972 L525.0918,185.0972 L525.0918,193.1738 L527.5571,193.1738 L527.5571,195.332 L520.1777,195.332 L520.1777,193.1738 L522.6431,193.1738 L522.6431,185.0972 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="561.75" y="186.8008">«Interface»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="544.75" y="200.9336">ContractProvider</text><line style="stroke: #383838; stroke-width: 1.5;" x1="472.5" x2="680.5" y1="208.4648" y2="208.4648"/><line style="stroke: #383838; stroke-width: 1.5;" x1="472.5" x2="680.5" y1="216.4648" y2="216.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="477.5" y="231.0996">+contracts(name: bytes32) : address</text><!--class ContractManager--><rect fill="#F8F8F8" height="80.1758" id="ContractManager" style="stroke: #383838; stroke-width: 1.5;" width="463" x="219" y="29.1992"/><ellipse cx="397.25" cy="48.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M400.2231,53.9751 Q399.6421,54.2739 399.0029,54.4233 Q398.3638,54.5728 397.6582,54.5728 Q395.1514,54.5728 393.8315,52.9209 Q392.5117,51.269 392.5117,48.1479 Q392.5117,45.0186 393.8315,43.3667 Q395.1514,41.7148 397.6582,41.7148 Q398.3638,41.7148 399.0112,41.8643 Q399.6587,42.0137 400.2231,42.3125 L400.2231,45.0352 Q399.5923,44.4541 398.9988,44.1843 Q398.4053,43.9146 397.7744,43.9146 Q396.4297,43.9146 395.7449,44.9812 Q395.0601,46.0479 395.0601,48.1479 Q395.0601,50.2397 395.7449,51.3064 Q396.4297,52.373 397.7744,52.373 Q398.4053,52.373 398.9988,52.1033 Q399.5923,51.8335 400.2231,51.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="436.75" y="45.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="417.75" y="59.9336">ContractManager</text><line style="stroke: #383838; stroke-width: 1.5;" x1="220" x2="681" y1="67.4648" y2="67.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="225" y="82.0996">+contracts: mapping {name: bytes32 =&gt; address}</text><line style="stroke: #383838; stroke-width: 1.5;" x1="220" x2="681" y1="88.4199" y2="88.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="451" x="225" y="103.0547">+setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}</text><!--class ManagedContract--><rect fill="#F8F8F8" height="38.2656" id="ManagedContract" style="stroke: #383838; stroke-width: 1.5;" width="133" x="259" y="184.6992"/><ellipse cx="274" cy="203.832" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M276.9731,209.4751 Q276.3921,209.7739 275.7529,209.9233 Q275.1138,210.0728 274.4082,210.0728 Q271.9014,210.0728 270.5815,208.4209 Q269.2617,206.769 269.2617,203.6479 Q269.2617,200.5186 270.5815,198.8667 Q271.9014,197.2148 274.4082,197.2148 Q275.1138,197.2148 275.7612,197.3643 Q276.4087,197.5137 276.9731,197.8125 L276.9731,200.5352 Q276.3423,199.9541 275.7488,199.6843 Q275.1553,199.4146 274.5244,199.4146 Q273.1797,199.4146 272.4949,200.4812 Q271.8101,201.5479 271.8101,203.6479 Q271.8101,205.7397 272.4949,206.8064 Q273.1797,207.873 274.5244,207.873 Q275.1553,207.873 275.7488,207.6033 Q276.3423,207.3335 276.9731,206.7524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="308.5" y="201.3008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="288" y="215.4336">ManagedContract</text><!--class Course--><rect fill="#F8F8F8" height="38.2656" id="Course" style="stroke: #383838; stroke-width: 1.5;" width="72" x="131.5" y="581.1992"/><ellipse cx="146.5" cy="600.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M149.4731,605.9751 Q148.8921,606.2739 148.2529,606.4233 Q147.6138,606.5728 146.9082,606.5728 Q144.4014,606.5728 143.0815,604.9209 Q141.7617,603.269 141.7617,600.1479 Q141.7617,597.0186 143.0815,595.3667 Q144.4014,593.7148 146.9082,593.7148 Q147.6138,593.7148 148.2612,593.8643 Q148.9087,594.0137 149.4731,594.3125 L149.4731,597.0352 Q148.8423,596.4541 148.2488,596.1843 Q147.6553,595.9146 147.0244,595.9146 Q145.6797,595.9146 144.9949,596.9812 Q144.3101,598.0479 144.3101,600.1479 Q144.3101,602.2397 144.9949,603.3064 Q145.6797,604.373 147.0244,604.373 Q147.6553,604.373 148.2488,604.1033 Q148.8423,603.8335 149.4731,603.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="158.5" y="597.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="160.5" y="611.9336">Course</text><!--class Test--><rect fill="#F8F8F8" height="157.9063" id="Test" style="stroke: #383838; stroke-width: 1.5;" width="173" x="239" y="521.1992"/><ellipse cx="301.25" cy="540.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M304.2231,545.9751 Q303.6421,546.2739 303.0029,546.4233 Q302.3638,546.5728 301.6582,546.5728 Q299.1514,546.5728 297.8315,544.9209 Q296.5117,543.269 296.5117,540.1479 Q296.5117,537.0186 297.8315,535.3667 Q299.1514,533.7148 301.6582,533.7148 Q302.3638,533.7148 303.0112,533.8643 Q303.6587,534.0137 304.2231,534.3125 L304.2231,537.0352 Q303.5923,536.4541 302.9988,536.1843 Q302.4053,535.9146 301.7744,535.9146 Q300.4297,535.9146 299.7449,536.9812 Q299.0601,538.0479 299.0601,540.1479 Q299.0601,542.2397 299.7449,543.3064 Q300.4297,544.373 301.7744,544.373 Q302.4053,544.373 302.9988,544.1033 Q303.5923,543.8335 304.2231,543.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="319.75" y="537.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="25" x="329.25" y="551.9336">Test</text><line style="stroke: #383838; stroke-width: 1.5;" x1="240" x2="411" y1="559.4648" y2="559.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="245" y="574.0996">description: string</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="245" y="587.0547">name: string</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="245" y="600.0098">maxPoints: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="245" y="612.9648">dueDate: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="245" y="625.9199">courseID: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="245" y="638.875">submissionIDs: uint[]</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="245" y="651.8301">testParticipationIDs: bytes32[]</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="245" y="664.7852">testSupervisionIDs: bytes32[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="240" x2="411" y1="671.1055" y2="671.1055"/><!--class TestDB--><rect fill="#F8F8F8" height="161.9063" id="TestDB" style="stroke: #383838; stroke-width: 1.5;" width="639" x="6" y="298.1992"/><ellipse cx="293.25" cy="317.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M296.2231,322.9751 Q295.6421,323.2739 295.0029,323.4233 Q294.3638,323.5728 293.6582,323.5728 Q291.1514,323.5728 289.8315,321.9209 Q288.5117,320.269 288.5117,317.1479 Q288.5117,314.0186 289.8315,312.3667 Q291.1514,310.7148 293.6582,310.7148 Q294.3638,310.7148 295.0112,310.8643 Q295.6587,311.0137 296.2231,311.3125 L296.2231,314.0352 Q295.5923,313.4541 294.9988,313.1843 Q294.4053,312.9146 293.7744,312.9146 Q292.4297,312.9146 291.7449,313.9812 Q291.0601,315.0479 291.0601,317.1479 Q291.0601,319.2397 291.7449,320.3064 Q292.4297,321.373 293.7744,321.373 Q294.4053,321.373 294.9988,321.1033 Q295.5923,320.8335 296.2231,320.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="311.75" y="314.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="321.25" y="328.9336">TestDB</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="644" y1="336.4648" y2="336.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="12" y="351.0996">-tests: Test[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="644" y1="357.4199" y2="357.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="509" x="12" y="372.0547">+addTest(description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint) : uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="627" x="12" y="385.0098">+getTest(id: uint) : Tuple { description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint } {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="12" y="397.9648">+getNumTests() : uint {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="448" x="12" y="427.875">+addTestParticipationID(testID: uint, id: bytes32) {permission: "testparticipationdb"}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="439" x="12" y="440.8301">+addTestSupervisionID(testID: uint, id: bytes32) {permission: "testsupervisiondb"}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="372" x="12" y="453.7852">+addSubmissionID(testID: uint, id: uint) {permission: "submissiondb"}</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="254" y1="410.7627" y2="410.7627"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="254" y="414.4199">Setter for combined values</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="397" x2="644" y1="410.7627" y2="410.7627"/><!--link ContractManager to ContractProvider--><path d="M488.3042,109.5536 C501.7542,123.911 517.0386,140.2265 531.0614,155.1953 " fill="none" id="ContractManager-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="536.5233,150.7868,545.0882,170.1684,526.3062,160.3582,536.5233,150.7868" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to ContractProvider--><path d="M392.1044,203.6992 C414.8427,203.6992 440.9168,203.6992 466.1605,203.6992 " fill="none" id="ManagedContract-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="471.1969,203.6992,462.1969,199.6992,466.1969,203.6992,462.1969,207.6992,471.1969,203.6992" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="410.25" y="197.2676">«uses»</text><!--link ContractManager to ManagedContract--><path d="M409.4503,113.3687 C387.1234,137.3924 360.6404,165.8881 343.476,184.3571 " fill="none" id="ContractManager-ManagedContract" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="412.9959,109.5536,403.939,113.4231,409.5921,113.2161,409.7991,118.8692,412.9959,109.5536" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to TestDB--><path d="M325.5,243.003 C325.5,259.3082 325.5,278.8637 325.5,298.0013 " fill="none" id="ManagedContract-TestDB" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="318.5001,242.8149,325.5,222.8149,332.5001,242.8148,318.5001,242.8149" style="stroke: #383838; stroke-width: 1.0;"/><!--link TestDB to Test--><path d="M325.5,460.2365 C325.5,480.0701 325.5,501.2699 325.5,521.0154 " fill="none" id="TestDB-Test" style="stroke: #383838; stroke-width: 1.0;"/><!--link Course to Test--><path d="M203.6055,600.1992 C215.3505,600.1992 227.0956,600.1992 238.8406,600.1992 " fill="none" id="Course-Test" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml


'skinparam handwritten true
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
skinparam defaultFontName "Source Sans Pro Semibold"
    







title Owned

class Owned << Contract >> {
  +owner: address
  __
  +Owned()
  .. Modifier ..
  #onlyOwner()
}



title ContractProvider

interface ContractProvider << Interface >> {
  +contracts(name: bytes32) : address
}


title ContractManager

class ContractManager << Contract >> {
  +contracts: mapping {name: bytes32 => address}
  +setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}
}

ContractManager -up-|> Owned

ContractManager .down.|> ContractProvider


title ManagedContract

class ManagedContract << Contract >> {
  #MAN: address
  __
  +setContractManagerAddress(contractManagerAddress: address) : bool
  .. Modifier ..
  #permission(permittedSender: bytes32)
}

ManagedContract .right.> ContractProvider : << uses >>
ManagedContract -up-> ContractManager

hide Owned




title CourseDB

class Course << Struct >> {
  description: string
  name: string
  ectsPoints: uint
  assignmentIDs: uint[]
  testIDs: uint[]
  courseParticipationIDs: bytes32[]
  courseSupervisionIDs: bytes32[]
}

class CourseDB << Contract >> {
  -courses: Course[]
  __
  +addCourse(description: string, name: string, ectsPoints: uint) : uint
  +getCourse(id: uint) : Tuple { description: string, name: string, ectsPoints: uint } {constant}
  +getNumCourses() : uint {constant}
  .. Setter for combined values ..
  +addCourseParticipationID(courseID: uint, id: bytes32) {permission: "courseparticipationdb" }
  +addCourseSupervisionID(courseID: uint, id: bytes32) {permission: "coursesupervisiondb"}
  +addAssignmentID(courseID: uint, id: uint) {permission: "assignmentdb"}
  +addTestID(courseID: uint, id: uint) {permission: "testdb"}
}

CourseDB -up-|> ManagedContract
CourseDB -down- Course

hide ManagedContract members


title TestDB

class Test << Struct >> {
  description: string
  name: string
  maxPoints: uint
  dueDate: uint
  courseID: uint
  submissionIDs: uint[]
  testParticipationIDs: bytes32[]
  testSupervisionIDs: bytes32[]
}

class TestDB << Contract >> {
  -tests: Test[]
  __
  +addTest(description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint) : uint
  +getTest(id: uint) : Tuple { description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint } {constant}
  +getNumTests() : uint {constant}
  .. Setter for combined values ..
  +addTestParticipationID(testID: uint, id: bytes32) {permission: "testparticipationdb"}
  +addTestSupervisionID(testID: uint, id: bytes32) {permission: "testsupervisiondb"}
  +addSubmissionID(testID: uint, id: uint) {permission: "submissiondb"}
}

TestDB -up-|> ManagedContract
TestDB -down- Test
Test -left- Course

hide ManagedContract members
hide CourseDB
hide Course members

@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>