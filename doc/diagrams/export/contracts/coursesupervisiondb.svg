<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="467px" preserveAspectRatio="none" style="width:823px;height:467px;" version="1.1" viewBox="0 0 823 467" width="823px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="182" x="324.5" y="17.4023">CourseSupervisionDB</text><!--class ContractProvider--><rect fill="#F8F8F8" height="67.2207" id="ContractProvider" style="stroke: #383838; stroke-width: 1.5;" width="210" x="503" y="183.1992"/><ellipse cx="555.75" cy="202.332" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M551.6777,198.0972 L551.6777,195.939 L559.0571,195.939 L559.0571,198.0972 L556.5918,198.0972 L556.5918,206.1738 L559.0571,206.1738 L559.0571,208.332 L551.6777,208.332 L551.6777,206.1738 L554.1431,206.1738 L554.1431,198.0972 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="593.25" y="199.8008">«Interface»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="576.25" y="213.9336">ContractProvider</text><line style="stroke: #383838; stroke-width: 1.5;" x1="504" x2="712" y1="221.4648" y2="221.4648"/><line style="stroke: #383838; stroke-width: 1.5;" x1="504" x2="712" y1="229.4648" y2="229.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="509" y="244.0996">+contracts(name: bytes32) : address</text><!--class ContractManager--><rect fill="#F8F8F8" height="80.1758" id="ContractManager" style="stroke: #383838; stroke-width: 1.5;" width="463" x="349.5" y="29.1992"/><ellipse cx="527.75" cy="48.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M530.7231,53.9751 Q530.1421,54.2739 529.5029,54.4233 Q528.8638,54.5728 528.1582,54.5728 Q525.6514,54.5728 524.3315,52.9209 Q523.0117,51.269 523.0117,48.1479 Q523.0117,45.0186 524.3315,43.3667 Q525.6514,41.7148 528.1582,41.7148 Q528.8638,41.7148 529.5112,41.8643 Q530.1587,42.0137 530.7231,42.3125 L530.7231,45.0352 Q530.0923,44.4541 529.4988,44.1843 Q528.9053,43.9146 528.2744,43.9146 Q526.9297,43.9146 526.2449,44.9812 Q525.5601,46.0479 525.5601,48.1479 Q525.5601,50.2397 526.2449,51.3064 Q526.9297,52.373 528.2744,52.373 Q528.9053,52.373 529.4988,52.1033 Q530.0923,51.8335 530.7231,51.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="567.25" y="45.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="548.25" y="59.9336">ContractManager</text><line style="stroke: #383838; stroke-width: 1.5;" x1="350.5" x2="811.5" y1="67.4648" y2="67.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="355.5" y="82.0996">+contracts: mapping {name: bytes32 =&gt; address}</text><line style="stroke: #383838; stroke-width: 1.5;" x1="350.5" x2="811.5" y1="88.4199" y2="88.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="451" x="355.5" y="103.0547">+setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}</text><!--class ManagedContract--><rect fill="#F8F8F8" height="38.2656" id="ManagedContract" style="stroke: #383838; stroke-width: 1.5;" width="133" x="290.5" y="197.6992"/><ellipse cx="305.5" cy="216.832" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M308.4731,222.4751 Q307.8921,222.7739 307.2529,222.9233 Q306.6138,223.0728 305.9082,223.0728 Q303.4014,223.0728 302.0815,221.4209 Q300.7617,219.769 300.7617,216.6479 Q300.7617,213.5186 302.0815,211.8667 Q303.4014,210.2148 305.9082,210.2148 Q306.6138,210.2148 307.2612,210.3643 Q307.9087,210.5137 308.4731,210.8125 L308.4731,213.5352 Q307.8423,212.9541 307.2488,212.6843 Q306.6553,212.4146 306.0244,212.4146 Q304.6797,212.4146 303.9949,213.4812 Q303.3101,214.5479 303.3101,216.6479 Q303.3101,218.7397 303.9949,219.8064 Q304.6797,220.873 306.0244,220.873 Q306.6553,220.873 307.2488,220.6033 Q307.8423,220.3335 308.4731,219.7524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="340" y="214.3008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="319.5" y="228.4336">ManagedContract</text><!--class Supervisor--><rect fill="#F8F8F8" height="38.2656" id="Supervisor" style="stroke: #383838; stroke-width: 1.5;" width="92" x="195" y="50.1992"/><ellipse cx="210" cy="69.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M212.9731,74.9751 Q212.3921,75.2739 211.7529,75.4233 Q211.1138,75.5728 210.4082,75.5728 Q207.9014,75.5728 206.5815,73.9209 Q205.2617,72.269 205.2617,69.1479 Q205.2617,66.0186 206.5815,64.3667 Q207.9014,62.7148 210.4082,62.7148 Q211.1138,62.7148 211.7612,62.8643 Q212.4087,63.0137 212.9731,63.3125 L212.9731,66.0352 Q212.3423,65.4541 211.7488,65.1843 Q211.1553,64.9146 210.5244,64.9146 Q209.1797,64.9146 208.4949,65.9812 Q207.8101,67.0479 207.8101,69.1479 Q207.8101,71.2397 208.4949,72.3064 Q209.1797,73.373 210.5244,73.373 Q211.1553,73.373 211.7488,73.1033 Q212.3423,72.8335 212.9731,72.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="232" y="66.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="224" y="80.9336">Supervisor</text><!--class Course--><rect fill="#F8F8F8" height="38.2656" id="Course" style="stroke: #383838; stroke-width: 1.5;" width="72" x="88" y="50.1992"/><ellipse cx="103" cy="69.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M105.9731,74.9751 Q105.3921,75.2739 104.7529,75.4233 Q104.1138,75.5728 103.4082,75.5728 Q100.9014,75.5728 99.5815,73.9209 Q98.2617,72.269 98.2617,69.1479 Q98.2617,66.0186 99.5815,64.3667 Q100.9014,62.7148 103.4082,62.7148 Q104.1138,62.7148 104.7612,62.8643 Q105.4087,63.0137 105.9731,63.3125 L105.9731,66.0352 Q105.3423,65.4541 104.7488,65.1843 Q104.1553,64.9146 103.5244,64.9146 Q102.1797,64.9146 101.4949,65.9812 Q100.8101,67.0479 100.8101,69.1479 Q100.8101,71.2397 101.4949,72.3064 Q102.1797,73.373 103.5244,73.373 Q104.1553,73.373 104.7488,73.1033 Q105.3423,72.8335 105.9731,72.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="115" y="66.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="117" y="80.9336">Course</text><!--class CourseSupervision--><rect fill="#F8F8F8" height="93.1309" id="CourseSupervision" style="stroke: #383838; stroke-width: 1.5;" width="137" x="118.5" y="170.1992"/><ellipse cx="133.5" cy="189.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M136.4731,194.9751 Q135.8921,195.2739 135.2529,195.4233 Q134.6138,195.5728 133.9082,195.5728 Q131.4014,195.5728 130.0815,193.9209 Q128.7617,192.269 128.7617,189.1479 Q128.7617,186.0186 130.0815,184.3667 Q131.4014,182.7148 133.9082,182.7148 Q134.6138,182.7148 135.2612,182.8643 Q135.9087,183.0137 136.4731,183.3125 L136.4731,186.0352 Q135.8423,185.4541 135.2488,185.1843 Q134.6553,184.9146 134.0244,184.9146 Q132.6797,184.9146 131.9949,185.9812 Q131.3101,187.0479 131.3101,189.1479 Q131.3101,191.2397 131.9949,192.3064 Q132.6797,193.373 134.0244,193.373 Q134.6553,193.373 135.2488,193.1033 Q135.8423,192.8335 136.4731,192.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="178" y="186.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="147.5" y="200.9336">CourseSupervision</text><line style="stroke: #383838; stroke-width: 1.5;" x1="119.5" x2="254.5" y1="208.4648" y2="208.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="124.5" y="223.0996">supervisorID: address</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="124.5" y="236.0547">courseID: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="124.5" y="249.0098">idIndex: uint</text><line style="stroke: #383838; stroke-width: 1.5;" x1="119.5" x2="254.5" y1="255.3301" y2="255.3301"/><!--class CourseSupervisionDB--><rect fill="#F8F8F8" height="131.9961" id="CourseSupervisionDB" style="stroke: #383838; stroke-width: 1.5;" width="530" x="6" y="324.1992"/><ellipse cx="206.25" cy="343.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M209.2231,348.9751 Q208.6421,349.2739 208.0029,349.4233 Q207.3638,349.5728 206.6582,349.5728 Q204.1514,349.5728 202.8315,347.9209 Q201.5117,346.269 201.5117,343.1479 Q201.5117,340.0186 202.8315,338.3667 Q204.1514,336.7148 206.6582,336.7148 Q207.3638,336.7148 208.0112,336.8643 Q208.6587,337.0137 209.2231,337.3125 L209.2231,340.0352 Q208.5923,339.4541 207.9988,339.1843 Q207.4053,338.9146 206.7744,338.9146 Q205.4297,338.9146 204.7449,339.9812 Q204.0601,341.0479 204.0601,343.1479 Q204.0601,345.2397 204.7449,346.3064 Q205.4297,347.373 206.7744,347.373 Q207.4053,347.373 207.9988,347.1033 Q208.5923,346.8335 209.2231,346.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="257.25" y="340.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="226.75" y="354.9336">CourseSupervisionDB</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="535" y1="362.4648" y2="362.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="12" y="377.0996">-courseSupervisionIDs: bytes32[]</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="345" x="12" y="390.0547">-courseSupervisions: mapping {bytes32 =&gt; CourseSupervision}</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="535" y1="396.375" y2="396.375"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="339" x="12" y="411.0098">+exists(supervisorID: address, courseID: uint) : bool {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="12" y="423.9648">+addCourseSupervision(supervisorID: address, courseID: uint)</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="518" x="12" y="436.9199">+getCourseSupervisionAt(index: uint) : Tuple { supervisorID: address, courseID: uint } {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="508" x="12" y="449.875">+getCourseSupervision(id: bytes32) : Tuple { supervisorID: address, courseID: uint } {constant}</text><!--link ContractManager to ContractProvider--><path d="M588.3779,109.5042 C591.4079,126.0572 594.96,145.4619 598.203,163.1786 " fill="none" id="ContractManager-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="605.1027,161.9955,601.8184,182.9291,591.3315,164.5164,605.1027,161.9955" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to ContractProvider--><path d="M423.6044,216.6992 C446.3427,216.6992 472.4168,216.6992 497.6605,216.6992 " fill="none" id="ManagedContract-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="502.6969,216.6992,493.6969,212.6992,497.6969,216.6992,493.6969,220.6992,502.6969,216.6992" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="441.75" y="210.2676">«uses»</text><!--link ContractManager to ManagedContract--><path d="M515.7089,112.1922 C472.8217,140.4327 418.8027,176.0033 386.1333,197.5154 " fill="none" id="ContractManager-ManagedContract" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="520.0869,109.3094,510.3703,110.9183,515.911,112.0592,514.7701,117.5998,520.0869,109.3094" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to CourseSupervisionDB--><path d="M338.5445,253.932 C328.4021,274.3939 315.5205,300.3817 303.7324,324.1636 " fill="none" id="ManagedContract-CourseSupervisionDB" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="332.3138,250.7403,347.4679,235.9296,344.8574,256.9579,332.3138,250.7403" style="stroke: #383838; stroke-width: 1.0;"/><!--link CourseSupervision to CourseSupervisionDB--><path d="M209.7316,263.6508 C218.7204,282.2168 229.2124,303.8879 238.9478,323.9962 " fill="none" id="CourseSupervision-CourseSupervisionDB" style="stroke: #383838; stroke-width: 1.0;"/><!--link Supervisor to CourseSupervision--><path d="M233.9404,88.4822 C226.3931,109.0978 214.1489,142.5425 204.0581,170.1052 " fill="none" id="Supervisor-CourseSupervision" style="stroke: #383838; stroke-width: 1.0;"/><!--link Course to CourseSupervision--><path d="M132.2361,88.4822 C141.0414,109.0978 155.3263,142.5425 167.0988,170.1052 " fill="none" id="Course-CourseSupervision" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml


'skinparam handwritten true
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
skinparam defaultFontName "Source Sans Pro Semibold"
    







title Owned

class Owned << Contract >> {
  +owner: address
  __
  +Owned()
  .. Modifier ..
  #onlyOwner()
}



title ContractProvider

interface ContractProvider << Interface >> {
  +contracts(name: bytes32) : address
}


title ContractManager

class ContractManager << Contract >> {
  +contracts: mapping {name: bytes32 => address}
  +setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}
}

ContractManager -up-|> Owned

ContractManager .down.|> ContractProvider


title ManagedContract

class ManagedContract << Contract >> {
  #MAN: address
  __
  +setContractManagerAddress(contractManagerAddress: address) : bool
  .. Modifier ..
  #permission(permittedSender: bytes32)
}

ManagedContract .right.> ContractProvider : << uses >>
ManagedContract -up-> ContractManager

hide Owned




title SupervisorDB

class Supervisor << Struct >> {
  name: string
  uaccountID: string
  index: uint
  courseSupervisionIDs: bytes32[]
  testSupervisionIDs: bytes32[]
  supervisorAssessmentIDs: bytes32[]
}

class SupervisorDB << Contract >> {
  -indices: address[]
  -supervisors: mapping {address => Supervisor}
  __
  +isSupervisor(account: address) : bool {constant}
  +addSupervisor(account: address, name: string, uaccountID: string)
  +getSupervisor(account: address) : Tuple { name: string, uaccountID: string } {constant}
  +getSupervisorAt(index: uint) : Tuple { name: string, uaccountID: string } {constant}
  +getNumSupervisors() : uint {constant}
  .. Setter for combined values ..
  +addCourseSupervisionID(account: address, id: bytes32) {permission: "coursesupervisiondb"}
  +addTestSupervisionID(account: address, id: bytes32) {permission: "testsupervisiondb"}
  +addSupervisorAssessmentID(account: address, id: bytes32) {permission: "supervisorassessmentdb"}
}

SupervisorDB -up-|> ManagedContract
SupervisorDB -down- Supervisor

hide ManagedContract members




title CourseDB

class Course << Struct >> {
  description: string
  name: string
  ectsPoints: uint
  assignmentIDs: uint[]
  testIDs: uint[]
  courseParticipationIDs: bytes32[]
  courseSupervisionIDs: bytes32[]
}

class CourseDB << Contract >> {
  -courses: Course[]
  __
  +addCourse(description: string, name: string, ectsPoints: uint) : uint
  +getCourse(id: uint) : Tuple { description: string, name: string, ectsPoints: uint } {constant}
  +getNumCourses() : uint {constant}
  .. Setter for combined values ..
  +addCourseParticipationID(courseID: uint, id: bytes32) {permission: "courseparticipationdb" }
  +addCourseSupervisionID(courseID: uint, id: bytes32) {permission: "coursesupervisiondb"}
  +addAssignmentID(courseID: uint, id: uint) {permission: "assignmentdb"}
  +addTestID(courseID: uint, id: uint) {permission: "testdb"}
}

CourseDB -up-|> ManagedContract
CourseDB -down- Course

hide ManagedContract members


title CourseSupervisionDB

class CourseSupervision << Struct >> {
  supervisorID: address
  courseID: uint
  idIndex: uint
}

class CourseSupervisionDB << Contract >> {
  -courseSupervisionIDs: bytes32[]
  -courseSupervisions: mapping {bytes32 => CourseSupervision}
  __
  +exists(supervisorID: address, courseID: uint) : bool {constant}
  +addCourseSupervision(supervisorID: address, courseID: uint)
  +getCourseSupervisionAt(index: uint) : Tuple { supervisorID: address, courseID: uint } {constant}
  +getCourseSupervision(id: bytes32) : Tuple { supervisorID: address, courseID: uint } {constant}
}



CourseSupervisionDB -up-|> ManagedContract
CourseSupervisionDB -up- CourseSupervision
CourseSupervision -up- Supervisor
CourseSupervision -up- Course

hide ManagedContract members
hide SupervisorDB
hide Supervisor members
hide CourseDB
hide Course members

@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>