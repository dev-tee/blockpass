<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="638px" preserveAspectRatio="none" style="width:713px;height:638px;" version="1.1" viewBox="0 0 713 638" width="713px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="125" x="298" y="17.4023">AssignmentDB</text><!--class ContractProvider--><rect fill="#F8F8F8" height="67.2207" id="ContractProvider" style="stroke: #383838; stroke-width: 1.5;" width="210" x="492" y="170.1992"/><ellipse cx="544.75" cy="189.332" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M540.6777,185.0972 L540.6777,182.939 L548.0571,182.939 L548.0571,185.0972 L545.5918,185.0972 L545.5918,193.1738 L548.0571,193.1738 L548.0571,195.332 L540.6777,195.332 L540.6777,193.1738 L543.1431,193.1738 L543.1431,185.0972 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="582.25" y="186.8008">«Interface»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="565.25" y="200.9336">ContractProvider</text><line style="stroke: #383838; stroke-width: 1.5;" x1="493" x2="701" y1="208.4648" y2="208.4648"/><line style="stroke: #383838; stroke-width: 1.5;" x1="493" x2="701" y1="216.4648" y2="216.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="498" y="231.0996">+contracts(name: bytes32) : address</text><!--class ContractManager--><rect fill="#F8F8F8" height="80.1758" id="ContractManager" style="stroke: #383838; stroke-width: 1.5;" width="463" x="239.5" y="29.1992"/><ellipse cx="417.75" cy="48.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M420.7231,53.9751 Q420.1421,54.2739 419.5029,54.4233 Q418.8638,54.5728 418.1582,54.5728 Q415.6514,54.5728 414.3315,52.9209 Q413.0117,51.269 413.0117,48.1479 Q413.0117,45.0186 414.3315,43.3667 Q415.6514,41.7148 418.1582,41.7148 Q418.8638,41.7148 419.5112,41.8643 Q420.1587,42.0137 420.7231,42.3125 L420.7231,45.0352 Q420.0923,44.4541 419.4988,44.1843 Q418.9053,43.9146 418.2744,43.9146 Q416.9297,43.9146 416.2449,44.9812 Q415.5601,46.0479 415.5601,48.1479 Q415.5601,50.2397 416.2449,51.3064 Q416.9297,52.373 418.2744,52.373 Q418.9053,52.373 419.4988,52.1033 Q420.0923,51.8335 420.7231,51.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="457.25" y="45.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="438.25" y="59.9336">ContractManager</text><line style="stroke: #383838; stroke-width: 1.5;" x1="240.5" x2="701.5" y1="67.4648" y2="67.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="245.5" y="82.0996">+contracts: mapping {name: bytes32 =&gt; address}</text><line style="stroke: #383838; stroke-width: 1.5;" x1="240.5" x2="701.5" y1="88.4199" y2="88.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="451" x="245.5" y="103.0547">+setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}</text><!--class ManagedContract--><rect fill="#F8F8F8" height="38.2656" id="ManagedContract" style="stroke: #383838; stroke-width: 1.5;" width="133" x="279.5" y="184.6992"/><ellipse cx="294.5" cy="203.832" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M297.4731,209.4751 Q296.8921,209.7739 296.2529,209.9233 Q295.6138,210.0728 294.9082,210.0728 Q292.4014,210.0728 291.0815,208.4209 Q289.7617,206.769 289.7617,203.6479 Q289.7617,200.5186 291.0815,198.8667 Q292.4014,197.2148 294.9082,197.2148 Q295.6138,197.2148 296.2612,197.3643 Q296.9087,197.5137 297.4731,197.8125 L297.4731,200.5352 Q296.8423,199.9541 296.2488,199.6843 Q295.6553,199.4146 295.0244,199.4146 Q293.6797,199.4146 292.9949,200.4812 Q292.3101,201.5479 292.3101,203.6479 Q292.3101,205.7397 292.9949,206.8064 Q293.6797,207.873 295.0244,207.873 Q295.6553,207.873 296.2488,207.6033 Q296.8423,207.3335 297.4731,206.7524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="329" y="201.3008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="308.5" y="215.4336">ManagedContract</text><!--class Course--><rect fill="#F8F8F8" height="38.2656" id="Course" style="stroke: #383838; stroke-width: 1.5;" width="72" x="176" y="542.1992"/><ellipse cx="191" cy="561.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M193.9731,566.9751 Q193.3921,567.2739 192.7529,567.4233 Q192.1138,567.5728 191.4082,567.5728 Q188.9014,567.5728 187.5815,565.9209 Q186.2617,564.269 186.2617,561.1479 Q186.2617,558.0186 187.5815,556.3667 Q188.9014,554.7148 191.4082,554.7148 Q192.1138,554.7148 192.7612,554.8643 Q193.4087,555.0137 193.9731,555.3125 L193.9731,558.0352 Q193.3423,557.4541 192.7488,557.1843 Q192.1553,556.9146 191.5244,556.9146 Q190.1797,556.9146 189.4949,557.9812 Q188.8101,559.0479 188.8101,561.1479 Q188.8101,563.2397 189.4949,564.3064 Q190.1797,565.373 191.5244,565.373 Q192.1553,565.373 192.7488,565.1033 Q193.3423,564.8335 193.9731,564.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="203" y="558.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="205" y="572.9336">Course</text><!--class Assignment--><rect fill="#F8F8F8" height="131.9961" id="Assignment" style="stroke: #383838; stroke-width: 1.5;" width="126" x="283" y="495.1992"/><ellipse cx="310.6" cy="514.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M313.5731,519.9751 Q312.9921,520.2739 312.3529,520.4233 Q311.7138,520.5728 311.0082,520.5728 Q308.5014,520.5728 307.1815,518.9209 Q305.8617,517.269 305.8617,514.1479 Q305.8617,511.0186 307.1815,509.3667 Q308.5014,507.7148 311.0082,507.7148 Q311.7138,507.7148 312.3612,507.8643 Q313.0087,508.0137 313.5731,508.3125 L313.5731,511.0352 Q312.9423,510.4541 312.3488,510.1843 Q311.7553,509.9146 311.1244,509.9146 Q309.7797,509.9146 309.0949,510.9812 Q308.4101,512.0479 308.4101,514.1479 Q308.4101,516.2397 309.0949,517.3064 Q309.7797,518.373 311.1244,518.373 Q311.7553,518.373 312.3488,518.1033 Q312.9423,517.8335 313.5731,517.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="338.4" y="511.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="327.4" y="525.9336">Assignment</text><line style="stroke: #383838; stroke-width: 1.5;" x1="284" x2="408" y1="533.4648" y2="533.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="289" y="548.0996">description: string</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="289" y="561.0547">name: string</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="289" y="574.0098">maxPoints: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="289" y="586.9648">dueDate: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="289" y="599.9199">courseID: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="289" y="612.875">submissionIDs: uint[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="284" x2="408" y1="619.1953" y2="619.1953"/><!--class AssignmentDB--><rect fill="#F8F8F8" height="135.9961" id="AssignmentDB" style="stroke: #383838; stroke-width: 1.5;" width="680" x="6" y="298.1992"/><ellipse cx="300.75" cy="317.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M303.7231,322.9751 Q303.1421,323.2739 302.5029,323.4233 Q301.8638,323.5728 301.1582,323.5728 Q298.6514,323.5728 297.3315,321.9209 Q296.0117,320.269 296.0117,317.1479 Q296.0117,314.0186 297.3315,312.3667 Q298.6514,310.7148 301.1582,310.7148 Q301.8638,310.7148 302.5112,310.8643 Q303.1587,311.0137 303.7231,311.3125 L303.7231,314.0352 Q303.0923,313.4541 302.4988,313.1843 Q301.9053,312.9146 301.2744,312.9146 Q299.9297,312.9146 299.2449,313.9812 Q298.5601,315.0479 298.5601,317.1479 Q298.5601,319.2397 299.2449,320.3064 Q299.9297,321.373 301.2744,321.373 Q301.9053,321.373 302.4988,321.1033 Q303.0923,320.8335 303.7231,320.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="332.25" y="314.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="321.25" y="328.9336">AssignmentDB</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="685" y1="336.4648" y2="336.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="12" y="351.0996">-assignments: Assignment[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="685" y1="357.4199" y2="357.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="550" x="12" y="372.0547">+addAssignment(description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint) : uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="668" x="12" y="385.0098">+getAssignment(id: uint) : Tuple { description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint } {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="12" y="397.9648">+getNumAssignments() : uint {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="414" x="12" y="427.875">+addSubmissionID(assignmentID: uint, id: uint) {permission: "submissiondb"}</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="274.5" y1="410.7627" y2="410.7627"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="274.5" y="414.4199">Setter for combined values</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="417.5" x2="685" y1="410.7627" y2="410.7627"/><!--link ContractManager to ContractProvider--><path d="M508.8042,109.5536 C522.2542,123.911 537.5386,140.2265 551.5614,155.1953 " fill="none" id="ContractManager-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="557.0233,150.7868,565.5882,170.1684,546.8062,160.3582,557.0233,150.7868" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to ContractProvider--><path d="M412.6044,203.6992 C435.3427,203.6992 461.4168,203.6992 486.6605,203.6992 " fill="none" id="ManagedContract-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="491.6969,203.6992,482.6969,199.6992,486.6969,203.6992,482.6969,207.6992,491.6969,203.6992" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="430.75" y="197.2676">«uses»</text><!--link ContractManager to ManagedContract--><path d="M429.9503,113.3687 C407.6234,137.3924 381.1404,165.8881 363.976,184.3571 " fill="none" id="ContractManager-ManagedContract" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="433.4959,109.5536,424.439,113.4231,430.0921,113.2161,430.2991,118.8692,433.4959,109.5536" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to AssignmentDB--><path d="M346,243.1292 C346,259.6272 346,279.2878 346,298.0001 " fill="none" id="ManagedContract-AssignmentDB" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="339.0001,242.9782,346,222.9782,353.0001,242.9782,339.0001,242.9782" style="stroke: #383838; stroke-width: 1.0;"/><!--link AssignmentDB to Assignment--><path d="M346,434.4007 C346,454.0601 346,475.4714 346,495.0068 " fill="none" id="AssignmentDB-Assignment" style="stroke: #383838; stroke-width: 1.0;"/><!--link Course to Assignment--><path d="M248.1172,561.1992 C259.7153,561.1992 271.3134,561.1992 282.9115,561.1992 " fill="none" id="Course-Assignment" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml


'skinparam handwritten true
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
skinparam defaultFontName "Source Sans Pro Semibold"
    







title Owned

class Owned << Contract >> {
  +owner: address
  __
  +Owned()
  .. Modifier ..
  #onlyOwner()
}



title ContractProvider

interface ContractProvider << Interface >> {
  +contracts(name: bytes32) : address
}


title ContractManager

class ContractManager << Contract >> {
  +contracts: mapping {name: bytes32 => address}
  +setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}
}

ContractManager -up-|> Owned

ContractManager .down.|> ContractProvider


title ManagedContract

class ManagedContract << Contract >> {
  #MAN: address
  __
  +setContractManagerAddress(contractManagerAddress: address) : bool
  .. Modifier ..
  #permission(permittedSender: bytes32)
}

ManagedContract .right.> ContractProvider : << uses >>
ManagedContract -up-> ContractManager

hide Owned




title CourseDB

class Course << Struct >> {
  description: string
  name: string
  ectsPoints: uint
  assignmentIDs: uint[]
  testIDs: uint[]
  courseParticipationIDs: bytes32[]
  courseSupervisionIDs: bytes32[]
}

class CourseDB << Contract >> {
  -courses: Course[]
  __
  +addCourse(description: string, name: string, ectsPoints: uint) : uint
  +getCourse(id: uint) : Tuple { description: string, name: string, ectsPoints: uint } {constant}
  +getNumCourses() : uint {constant}
  .. Setter for combined values ..
  +addCourseParticipationID(courseID: uint, id: bytes32) {permission: "courseparticipationdb" }
  +addCourseSupervisionID(courseID: uint, id: bytes32) {permission: "coursesupervisiondb"}
  +addAssignmentID(courseID: uint, id: uint) {permission: "assignmentdb"}
  +addTestID(courseID: uint, id: uint) {permission: "testdb"}
}

CourseDB -up-|> ManagedContract
CourseDB -down- Course

hide ManagedContract members


title AssignmentDB

class Assignment << Struct >> {
  description: string
  name: string
  maxPoints: uint
  dueDate: uint
  courseID: uint
  submissionIDs: uint[]
}

class AssignmentDB << Contract >> {
  -assignments: Assignment[]
  __
  +addAssignment(description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint) : uint
  +getAssignment(id: uint) : Tuple { description: string, name: string, maxPoints: uint, dueDate: uint, courseID: uint } {constant}
  +getNumAssignments() : uint {constant}
  .. Setter for combined values ..
  +addSubmissionID(assignmentID: uint, id: uint) {permission: "submissiondb"}
}


AssignmentDB -up-|> ManagedContract
AssignmentDB -down- Assignment
Assignment -left- Course

hide ManagedContract members
hide CourseDB
hide Course members

@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>