<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="625px" preserveAspectRatio="none" style="width:679px;height:625px;" version="1.1" viewBox="0 0 679 625" width="679px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="125" x="280.5" y="17.4023">AssignmentDB</text><!--class ContractProvider--><rect fill="#F8F8F8" height="67.2207" id="ContractProvider" style="stroke: #383838; stroke-width: 1.5;" width="210" x="455.5" y="170.1992"/><ellipse cx="508.25" cy="189.332" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M504.1777,185.0972 L504.1777,182.939 L511.5571,182.939 L511.5571,185.0972 L509.0918,185.0972 L509.0918,193.1738 L511.5571,193.1738 L511.5571,195.332 L504.1777,195.332 L504.1777,193.1738 L506.6431,193.1738 L506.6431,185.0972 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="545.75" y="186.8008">«Interface»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="528.75" y="200.9336">ContractProvider</text><line style="stroke: #383838; stroke-width: 1.5;" x1="456.5" x2="664.5" y1="208.4648" y2="208.4648"/><line style="stroke: #383838; stroke-width: 1.5;" x1="456.5" x2="664.5" y1="216.4648" y2="216.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="461.5" y="231.0996">+contracts(name: bytes32) : address</text><!--class ContractManager--><rect fill="#F8F8F8" height="80.1758" id="ContractManager" style="stroke: #383838; stroke-width: 1.5;" width="467" x="201" y="29.1992"/><ellipse cx="381.25" cy="48.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M384.2231,53.9751 Q383.6421,54.2739 383.0029,54.4233 Q382.3638,54.5728 381.6582,54.5728 Q379.1514,54.5728 377.8315,52.9209 Q376.5117,51.269 376.5117,48.1479 Q376.5117,45.0186 377.8315,43.3667 Q379.1514,41.7148 381.6582,41.7148 Q382.3638,41.7148 383.0112,41.8643 Q383.6587,42.0137 384.2231,42.3125 L384.2231,45.0352 Q383.5923,44.4541 382.9988,44.1843 Q382.4053,43.9146 381.7744,43.9146 Q380.4297,43.9146 379.7449,44.9812 Q379.0601,46.0479 379.0601,48.1479 Q379.0601,50.2397 379.7449,51.3064 Q380.4297,52.373 381.7744,52.373 Q382.4053,52.373 382.9988,52.1033 Q383.5923,51.8335 384.2231,51.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="420.75" y="45.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="401.75" y="59.9336">ContractManager</text><line style="stroke: #383838; stroke-width: 1.5;" x1="202" x2="667" y1="67.4648" y2="67.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="207" y="82.0996">+contracts: mapping {name: bytes32 =&gt; address}</text><line style="stroke: #383838; stroke-width: 1.5;" x1="202" x2="667" y1="88.4199" y2="88.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="207" y="103.0547">+addContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}</text><!--class ManagedContract--><rect fill="#F8F8F8" height="38.2656" id="ManagedContract" style="stroke: #383838; stroke-width: 1.5;" width="133" x="243" y="184.6992"/><ellipse cx="258" cy="203.832" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M260.9731,209.4751 Q260.3921,209.7739 259.7529,209.9233 Q259.1138,210.0728 258.4082,210.0728 Q255.9014,210.0728 254.5815,208.4209 Q253.2617,206.769 253.2617,203.6479 Q253.2617,200.5186 254.5815,198.8667 Q255.9014,197.2148 258.4082,197.2148 Q259.1138,197.2148 259.7612,197.3643 Q260.4087,197.5137 260.9731,197.8125 L260.9731,200.5352 Q260.3423,199.9541 259.7488,199.6843 Q259.1553,199.4146 258.5244,199.4146 Q257.1797,199.4146 256.4949,200.4812 Q255.8101,201.5479 255.8101,203.6479 Q255.8101,205.7397 256.4949,206.8064 Q257.1797,207.873 258.5244,207.873 Q259.1553,207.873 259.7488,207.6033 Q260.3423,207.3335 260.9731,206.7524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="292.5" y="201.3008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="272" y="215.4336">ManagedContract</text><!--class Course--><rect fill="#F8F8F8" height="38.2656" id="Course" style="stroke: #383838; stroke-width: 1.5;" width="72" x="139.5" y="535.6992"/><ellipse cx="154.5" cy="554.832" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M157.4731,560.4751 Q156.8921,560.7739 156.2529,560.9233 Q155.6138,561.0728 154.9082,561.0728 Q152.4014,561.0728 151.0815,559.4209 Q149.7617,557.769 149.7617,554.6479 Q149.7617,551.5186 151.0815,549.8667 Q152.4014,548.2148 154.9082,548.2148 Q155.6138,548.2148 156.2612,548.3643 Q156.9087,548.5137 157.4731,548.8125 L157.4731,551.5352 Q156.8423,550.9541 156.2488,550.6843 Q155.6553,550.4146 155.0244,550.4146 Q153.6797,550.4146 152.9949,551.4812 Q152.3101,552.5479 152.3101,554.6479 Q152.3101,556.7397 152.9949,557.8064 Q153.6797,558.873 155.0244,558.873 Q155.6553,558.873 156.2488,558.6033 Q156.8423,558.3335 157.4731,557.7524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="166.5" y="552.3008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="168.5" y="566.4336">Course</text><!--class Assignment--><rect fill="#F8F8F8" height="119.041" id="Assignment" style="stroke: #383838; stroke-width: 1.5;" width="126" x="246.5" y="495.1992"/><ellipse cx="274.1" cy="514.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M277.0731,519.9751 Q276.4921,520.2739 275.8529,520.4233 Q275.2138,520.5728 274.5082,520.5728 Q272.0014,520.5728 270.6815,518.9209 Q269.3617,517.269 269.3617,514.1479 Q269.3617,511.0186 270.6815,509.3667 Q272.0014,507.7148 274.5082,507.7148 Q275.2138,507.7148 275.8612,507.8643 Q276.5087,508.0137 277.0731,508.3125 L277.0731,511.0352 Q276.4423,510.4541 275.8488,510.1843 Q275.2553,509.9146 274.6244,509.9146 Q273.2797,509.9146 272.5949,510.9812 Q271.9101,512.0479 271.9101,514.1479 Q271.9101,516.2397 272.5949,517.3064 Q273.2797,518.373 274.6244,518.373 Q275.2553,518.373 275.8488,518.1033 Q276.4423,517.8335 277.0731,517.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="301.9" y="511.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="290.9" y="525.9336">Assignment</text><line style="stroke: #383838; stroke-width: 1.5;" x1="247.5" x2="371.5" y1="533.4648" y2="533.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="252.5" y="548.0996">description: string</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="252.5" y="561.0547">maxPoints: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="252.5" y="574.0098">dueDate: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="252.5" y="586.9648">courseID: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="252.5" y="599.9199">submissionIDs: uint[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="247.5" x2="371.5" y1="606.2402" y2="606.2402"/><!--class AssignmentDB--><rect fill="#F8F8F8" height="135.9961" id="AssignmentDB" style="stroke: #383838; stroke-width: 1.5;" width="607" x="6" y="298.1992"/><ellipse cx="264.25" cy="317.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M267.2231,322.9751 Q266.6421,323.2739 266.0029,323.4233 Q265.3638,323.5728 264.6582,323.5728 Q262.1514,323.5728 260.8315,321.9209 Q259.5117,320.269 259.5117,317.1479 Q259.5117,314.0186 260.8315,312.3667 Q262.1514,310.7148 264.6582,310.7148 Q265.3638,310.7148 266.0112,310.8643 Q266.6587,311.0137 267.2231,311.3125 L267.2231,314.0352 Q266.5923,313.4541 265.9988,313.1843 Q265.4053,312.9146 264.7744,312.9146 Q263.4297,312.9146 262.7449,313.9812 Q262.0601,315.0479 262.0601,317.1479 Q262.0601,319.2397 262.7449,320.3064 Q263.4297,321.373 264.7744,321.373 Q265.4053,321.373 265.9988,321.1033 Q266.5923,320.8335 267.2231,320.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="295.75" y="314.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="284.75" y="328.9336">AssignmentDB</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="612" y1="336.4648" y2="336.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="12" y="351.0996">-assignments: Assignment[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="612" y1="357.4199" y2="357.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="477" x="12" y="372.0547">+addAssignment(description: string, maxPoints: uint, dueDate: uint, courseID: uint) : uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="595" x="12" y="385.0098">+getAssignment(id: uint) : Tuple { description: string, maxPoints: uint, dueDate: uint, courseID: uint } {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="12" y="397.9648">+getNumAssignments() : uint {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="414" x="12" y="427.875">+addSubmissionID(assignmentID: uint, id: uint) {permission: "submissiondb"}</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="238" y1="410.7627" y2="410.7627"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="238" y="414.4199">Setter for combined values</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="381" x2="612" y1="410.7627" y2="410.7627"/><!--link ContractManager to ContractProvider--><path d="M472.3042,109.5536 C485.7542,123.911 501.0386,140.2265 515.0614,155.1953 " fill="none" id="ContractManager-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="520.5233,150.7868,529.0882,170.1684,510.3062,160.3582,520.5233,150.7868" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to ContractProvider--><path d="M376.1044,203.6992 C398.8427,203.6992 424.9168,203.6992 450.1605,203.6992 " fill="none" id="ManagedContract-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="455.1969,203.6992,446.1969,199.6992,450.1969,203.6992,446.1969,207.6992,455.1969,203.6992" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="394.25" y="197.2676">«uses»</text><!--link ContractManager to ManagedContract--><path d="M393.4503,113.3687 C371.1234,137.3924 344.6404,165.8881 327.476,184.3571 " fill="none" id="ContractManager-ManagedContract" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="396.9959,109.5536,387.939,113.4231,393.5921,113.2161,393.7991,118.8692,396.9959,109.5536" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to AssignmentDB--><path d="M309.5,243.1292 C309.5,259.6272 309.5,279.2878 309.5,298.0001 " fill="none" id="ManagedContract-AssignmentDB" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="302.5001,242.9782,309.5,222.9782,316.5001,242.9782,302.5001,242.9782" style="stroke: #383838; stroke-width: 1.0;"/><!--link AssignmentDB to Assignment--><path d="M309.5,434.252 C309.5,454.1832 309.5,475.8123 309.5,495.1698 " fill="none" id="AssignmentDB-Assignment" style="stroke: #383838; stroke-width: 1.0;"/><!--link Course to Assignment--><path d="M211.6172,554.6992 C223.2153,554.6992 234.8134,554.6992 246.4115,554.6992 " fill="none" id="Course-Assignment" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml


'skinparam handwritten true
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
skinparam defaultFontName "Source Sans Pro Semibold"
    







title Owned

class Owned << Contract >> {
  +owner: address
  __
  +Owned()
  .. Modifier ..
  #onlyOwner()
}



title ContractProvider

interface ContractProvider << Interface >> {
  +contracts(name: bytes32) : address
}


title ContractManager

class ContractManager << Contract >> {
  +contracts: mapping {name: bytes32 => address}
  +addContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}
}

ContractManager -up-|> Owned

ContractManager .down.|> ContractProvider


title ManagedContract

class ManagedContract << Contract >> {
  #MAN: address
  __
  +setContractManagerAddress(contractManagerAddress: address) : bool
  .. Modifier ..
  #permission(permittedSender: bytes32)
}

ManagedContract .right.> ContractProvider : << uses >>
ManagedContract -up-> ContractManager

hide Owned




title CourseDB

class Course << Struct >> {
  description: string
  ectsPoints: uint
  name: bytes32
  assignmentIDs: uint[]
  testIDs: uint[]
  courseParticipationIDs: bytes32[]
  courseSupervisionIDs: bytes32[]
}

class CourseDB << Contract >> {
  -courses: Course[]
  __
  +addCourse(description: string, name: bytes32, ectsPoints: uint) : uint
  +getCourse(id: uint) : Tuple { description: string, name: bytes32, ectsPoints: uint } {constant}
  +getNumCourses() : uint {constant}
  .. Setter for combined values ..
  +addCourseParticipationID(courseID: uint, id: bytes32) {permission: "courseparticipationdb" }
  +addCourseSupervisionID(courseID: uint, id: bytes32) {permission: "coursesupervisiondb"}
  +addAssignmentID(courseID: uint, id: uint) {permission: "assignmentdb"}
  +addTestID(courseID: uint, id: uint) {permission: "testdb"}
}

CourseDB -up-|> ManagedContract
CourseDB -down- Course

hide ManagedContract members


title AssignmentDB

class Assignment << Struct >> {
  description: string
  maxPoints: uint
  dueDate: uint
  courseID: uint
  submissionIDs: uint[]
}

class AssignmentDB << Contract >> {
  -assignments: Assignment[]
  __
  +addAssignment(description: string, maxPoints: uint, dueDate: uint, courseID: uint) : uint
  +getAssignment(id: uint) : Tuple { description: string, maxPoints: uint, dueDate: uint, courseID: uint } {constant}
  +getNumAssignments() : uint {constant}
  .. Setter for combined values ..
  +addSubmissionID(assignmentID: uint, id: uint) {permission: "submissiondb"}
}


AssignmentDB -up-|> ManagedContract
AssignmentDB -down- Assignment
Assignment -left- Course

hide ManagedContract members
hide CourseDB
hide Course members

@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>