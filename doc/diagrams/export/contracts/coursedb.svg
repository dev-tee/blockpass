<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="690px" preserveAspectRatio="none" style="width:630px;height:690px;" version="1.1" viewBox="0 0 630 690" width="630px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="83" x="277" y="17.4023">CourseDB</text><!--class ContractProvider--><rect fill="#F8F8F8" height="67.2207" id="ContractProvider" style="stroke: #383838; stroke-width: 1.5;" width="210" x="408.5" y="170.1992"/><ellipse cx="461.25" cy="189.332" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M457.1777,185.0972 L457.1777,182.939 L464.5571,182.939 L464.5571,185.0972 L462.0918,185.0972 L462.0918,193.1738 L464.5571,193.1738 L464.5571,195.332 L457.1777,195.332 L457.1777,193.1738 L459.6431,193.1738 L459.6431,185.0972 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="498.75" y="186.8008">«Interface»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="481.75" y="200.9336">ContractProvider</text><line style="stroke: #383838; stroke-width: 1.5;" x1="409.5" x2="617.5" y1="208.4648" y2="208.4648"/><line style="stroke: #383838; stroke-width: 1.5;" x1="409.5" x2="617.5" y1="216.4648" y2="216.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="414.5" y="231.0996">+contracts(name: bytes32) : address</text><!--class ContractManager--><rect fill="#F8F8F8" height="80.1758" id="ContractManager" style="stroke: #383838; stroke-width: 1.5;" width="463" x="156" y="29.1992"/><ellipse cx="334.25" cy="48.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M337.2231,53.9751 Q336.6421,54.2739 336.0029,54.4233 Q335.3638,54.5728 334.6582,54.5728 Q332.1514,54.5728 330.8315,52.9209 Q329.5117,51.269 329.5117,48.1479 Q329.5117,45.0186 330.8315,43.3667 Q332.1514,41.7148 334.6582,41.7148 Q335.3638,41.7148 336.0112,41.8643 Q336.6587,42.0137 337.2231,42.3125 L337.2231,45.0352 Q336.5923,44.4541 335.9988,44.1843 Q335.4053,43.9146 334.7744,43.9146 Q333.4297,43.9146 332.7449,44.9812 Q332.0601,46.0479 332.0601,48.1479 Q332.0601,50.2397 332.7449,51.3064 Q333.4297,52.373 334.7744,52.373 Q335.4053,52.373 335.9988,52.1033 Q336.5923,51.8335 337.2231,51.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="373.75" y="45.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="354.75" y="59.9336">ContractManager</text><line style="stroke: #383838; stroke-width: 1.5;" x1="157" x2="618" y1="67.4648" y2="67.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="269" x="162" y="82.0996">+contracts: mapping {name: bytes32 =&gt; address}</text><line style="stroke: #383838; stroke-width: 1.5;" x1="157" x2="618" y1="88.4199" y2="88.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="451" x="162" y="103.0547">+setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}</text><!--class ManagedContract--><rect fill="#F8F8F8" height="38.2656" id="ManagedContract" style="stroke: #383838; stroke-width: 1.5;" width="133" x="196" y="184.6992"/><ellipse cx="211" cy="203.832" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M213.9731,209.4751 Q213.3921,209.7739 212.7529,209.9233 Q212.1138,210.0728 211.4082,210.0728 Q208.9014,210.0728 207.5815,208.4209 Q206.2617,206.769 206.2617,203.6479 Q206.2617,200.5186 207.5815,198.8667 Q208.9014,197.2148 211.4082,197.2148 Q212.1138,197.2148 212.7612,197.3643 Q213.4087,197.5137 213.9731,197.8125 L213.9731,200.5352 Q213.3423,199.9541 212.7488,199.6843 Q212.1553,199.4146 211.5244,199.4146 Q210.1797,199.4146 209.4949,200.4812 Q208.8101,201.5479 208.8101,203.6479 Q208.8101,205.7397 209.4949,206.8064 Q210.1797,207.873 211.5244,207.873 Q212.1553,207.873 212.7488,207.6033 Q213.3423,207.3335 213.9731,206.7524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="245.5" y="201.3008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="225" y="215.4336">ManagedContract</text><!--class Course--><rect fill="#F8F8F8" height="144.9512" id="Course" style="stroke: #383838; stroke-width: 1.5;" width="190" x="167.5" y="534.1992"/><ellipse cx="238.25" cy="553.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M241.2231,558.9751 Q240.6421,559.2739 240.0029,559.4233 Q239.3638,559.5728 238.6582,559.5728 Q236.1514,559.5728 234.8315,557.9209 Q233.5117,556.269 233.5117,553.1479 Q233.5117,550.0186 234.8315,548.3667 Q236.1514,546.7148 238.6582,546.7148 Q239.3638,546.7148 240.0112,546.8643 Q240.6587,547.0137 241.2231,547.3125 L241.2231,550.0352 Q240.5923,549.4541 239.9988,549.1843 Q239.4053,548.9146 238.7744,548.9146 Q237.4297,548.9146 236.7449,549.9812 Q236.0601,551.0479 236.0601,553.1479 Q236.0601,555.2397 236.7449,556.3064 Q237.4297,557.373 238.7744,557.373 Q239.4053,557.373 239.9988,557.1033 Q240.5923,556.8335 241.2231,556.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="256.75" y="550.8008">«Struct»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="258.75" y="564.9336">Course</text><line style="stroke: #383838; stroke-width: 1.5;" x1="168.5" x2="356.5" y1="572.4648" y2="572.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="173.5" y="587.0996">description: string</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="173.5" y="600.0547">name: string</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="173.5" y="613.0098">ectsPoints: uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="173.5" y="625.9648">assignmentIDs: uint[]</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="173.5" y="638.9199">testIDs: uint[]</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="173.5" y="651.875">courseParticipationIDs: bytes32[]</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="173.5" y="664.8301">courseSupervisionIDs: bytes32[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="168.5" x2="356.5" y1="671.1504" y2="671.1504"/><!--class CourseDB--><rect fill="#F8F8F8" height="174.8613" id="CourseDB" style="stroke: #383838; stroke-width: 1.5;" width="513" x="6" y="298.1992"/><ellipse cx="230.25" cy="317.332" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M233.2231,322.9751 Q232.6421,323.2739 232.0029,323.4233 Q231.3638,323.5728 230.6582,323.5728 Q228.1514,323.5728 226.8315,321.9209 Q225.5117,320.269 225.5117,317.1479 Q225.5117,314.0186 226.8315,312.3667 Q228.1514,310.7148 230.6582,310.7148 Q231.3638,310.7148 232.0112,310.8643 Q232.6587,311.0137 233.2231,311.3125 L233.2231,314.0352 Q232.5923,313.4541 231.9988,313.1843 Q231.4053,312.9146 230.7744,312.9146 Q229.4297,312.9146 228.7449,313.9812 Q228.0601,315.0479 228.0601,317.1479 Q228.0601,319.2397 228.7449,320.3064 Q229.4297,321.373 230.7744,321.373 Q231.4053,321.373 231.9988,321.1033 Q232.5923,320.8335 233.2231,320.2524 Z "/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="248.75" y="314.8008">«Contract»</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="250.75" y="328.9336">CourseDB</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="518" y1="336.4648" y2="336.4648"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="12" y="351.0996">-courses: Course[]</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="518" y1="357.4199" y2="357.4199"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="366" x="12" y="372.0547">+addCourse(description: string, name: string, ectsPoints: uint) : uint</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="484" x="12" y="385.0098">+getCourse(id: uint) : Tuple { description: string, name: string, ectsPoints: uint } {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="12" y="397.9648">+getNumCourses() : uint {constant}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="501" x="12" y="427.875">+addCourseParticipationID(courseID: uint, id: bytes32) {permission: "courseparticipationdb" }</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="489" x="12" y="440.8301">+addCourseSupervisionID(courseID: uint, id: bytes32) {permission: "coursesupervisiondb"}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="391" x="12" y="453.7852">+addAssignmentID(courseID: uint, id: uint) {permission: "assignmentdb"}</text><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="12" y="466.7402">+addTestID(courseID: uint, id: uint) {permission: "testdb"}</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="191" y1="410.7627" y2="410.7627"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="191" y="414.4199">Setter for combined values</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="334" x2="518" y1="410.7627" y2="410.7627"/><!--link ContractManager to ContractProvider--><path d="M425.3042,109.5536 C438.7542,123.911 454.0386,140.2265 468.0614,155.1953 " fill="none" id="ContractManager-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="473.5233,150.7868,482.0882,170.1684,463.3062,160.3582,473.5233,150.7868" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to ContractProvider--><path d="M329.1044,203.6992 C351.8427,203.6992 377.9168,203.6992 403.1605,203.6992 " fill="none" id="ManagedContract-ContractProvider" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#383838" points="408.1969,203.6992,399.1969,199.6992,403.1969,203.6992,399.1969,207.6992,408.1969,203.6992" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="Source Sans Pro Semibold" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="347.25" y="197.2676">«uses»</text><!--link ContractManager to ManagedContract--><path d="M346.4503,113.3687 C324.1234,137.3924 297.6404,165.8881 280.476,184.3571 " fill="none" id="ContractManager-ManagedContract" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="349.9959,109.5536,340.939,113.4231,346.5921,113.2161,346.7991,118.8692,349.9959,109.5536" style="stroke: #383838; stroke-width: 1.0;"/><!--link ManagedContract to CourseDB--><path d="M262.5,242.8761 C262.5,259.0817 262.5,278.5765 262.5,297.8801 " fill="none" id="ManagedContract-CourseDB" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="255.5001,242.8324,262.5,222.8324,269.5001,242.8324,255.5001,242.8324" style="stroke: #383838; stroke-width: 1.0;"/><!--link CourseDB to Course--><path d="M262.5,473.3617 C262.5,493.4871 262.5,514.6693 262.5,534.0779 " fill="none" id="CourseDB-Course" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml


'skinparam handwritten true
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
skinparam defaultFontName "Source Sans Pro Semibold"
    







title Owned

class Owned << Contract >> {
  +owner: address
  __
  +Owned()
  .. Modifier ..
  #onlyOwner()
}



title ContractProvider

interface ContractProvider << Interface >> {
  +contracts(name: bytes32) : address
}


title ContractManager

class ContractManager << Contract >> {
  +contracts: mapping {name: bytes32 => address}
  +setContract(contractName: bytes32, contractAddress: address) : bool {onlyOwner}
}

ContractManager -up-|> Owned

ContractManager .down.|> ContractProvider


title ManagedContract

class ManagedContract << Contract >> {
  #MAN: address
  __
  +setContractManagerAddress(contractManagerAddress: address) : bool
  .. Modifier ..
  #permission(permittedSender: bytes32)
}

ManagedContract .right.> ContractProvider : << uses >>
ManagedContract -up-> ContractManager

hide Owned


title CourseDB

class Course << Struct >> {
  description: string
  name: string
  ectsPoints: uint
  assignmentIDs: uint[]
  testIDs: uint[]
  courseParticipationIDs: bytes32[]
  courseSupervisionIDs: bytes32[]
}

class CourseDB << Contract >> {
  -courses: Course[]
  __
  +addCourse(description: string, name: string, ectsPoints: uint) : uint
  +getCourse(id: uint) : Tuple { description: string, name: string, ectsPoints: uint } {constant}
  +getNumCourses() : uint {constant}
  .. Setter for combined values ..
  +addCourseParticipationID(courseID: uint, id: bytes32) {permission: "courseparticipationdb" }
  +addCourseSupervisionID(courseID: uint, id: bytes32) {permission: "coursesupervisiondb"}
  +addAssignmentID(courseID: uint, id: uint) {permission: "assignmentdb"}
  +addTestID(courseID: uint, id: uint) {permission: "testdb"}
}

CourseDB -up-|> ManagedContract
CourseDB -down- Course

hide ManagedContract members

@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>